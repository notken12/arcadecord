apiVersion: networking.k8s.io/v1
kind: Ingress
spec:
  rules:
    - host: arcadecord.com
      # http:
      #   paths:
      #     - path: /(.*)
      #       pathType: Prefix
      #       backend:
      #         service:
      #           name: web
      #           port:
      #             name: http-web-svc
---
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: gameserver-ingress
  annotations:
    nginx.ingress.kubernetes.io/cors-allow-origin: 'http://*.arcadecord.com, https://*.arcadecord.com, http://arcadecord.com, https://arcadecord.com'
spec:
  tls:
    - hosts:
        - api.arcadecord.com
        # assumes that tls-secret exists and the SSL
        # certificate contains a common name for api.arcadecord.com
      secretName: tls-secret
  rules:
    - host: api.arcadecord.com
      # http:
      #   paths:
      #     - path: /
      #       pathType: Prefix
      #       backend:
      #         service:
      #           name: gameserver
      #           port:
      #             name: http-ws-gs-svc
